DROP TABLE IF EXISTS OP_LIST;
DROP TABLE IF EXISTS CHANS;
DROP TABLE IF EXISTS OP_TYPE;
DROP TABLE IF EXISTS ACC_LEVEL;
DROP TABLE IF EXISTS BOTS;
DROP TABLE IF EXISTS NS_AUTH;
DROP TABLE IF EXISTS AUTH_STATUS;
DROP TABLE IF EXISTS TARGET_TYPE;
DROP TABLE IF EXISTS NS_ACCESS;
DROP TABLE IF EXISTS NS_NOTIFY;
DROP TABLE IF EXISTS NICKS;


CREATE TABLE 'NICKS'(
   NICK_ID INTEGER PRIMARY KEY AUTOINCREMENT,
   NICKNAME VARCHAR(33),
   PASSWORD VARCHAR(33),
   MASK VARCHAR(128),
   REALNAME VARCHAR(256),
   LAST_SEEN BIGINT,
   REGISTERED BIGINT,
   HIDEMAIL TINYINT,
   MEMOMAX INT,
   URL VARCHAR(128),
   EMAIL VARCHAR(65),
   MFORWARD_TO VARCHAR(33),
   MFORWARD INT,
   NOOP TINYINT,
   NOMEMO TINYINT,
   AUTH_CHAN TINYINT,
   AUTH_NOTIFY TINYINT,
   PROTECT INT,
   MLOCK VARCHAR(33),
   MNOTIFY TINYINT
);


CREATE TABLE NS_ACCESS (
	ACCESS_ID INTEGER PRIMARY KEY AUTOINCREMENT,
	NICK_ID INT,
	MASK VARCHAR(256),
	FOREIGN KEY (NICK_ID) REFERENCES NICKS(NICK_ID)
);

CREATE TABLE NS_NOTIFY (
	NOTIFY_ID INTEGER PRIMARY KEY AUTOINCREMENT,
	NICK_ID INT,
	NOTIFICATION_NICK_ID INT,
	FOREIGN KEY (NICK_ID) REFERENCES NICKS(NICK_ID),
	FOREIGN KEY (NOTIFICATION_NICK_ID) REFERENCES NICKS(NICK_ID)
);

CREATE TABLE AUTH_STATUS (
	STATUS_ID INTEGER PRIMARY KEY AUTOINCREMENT,
	NAME VARCHAR(32)
);

CREATE TABLE NS_AUTH (
	AUTH_ID INTEGER PRIMARY KEY AUTOINCREMENT,
	TARGET_TYPE INT,
	TARGET INT,
	SENDER INT,
	RECIPIENT INT,
	TIME DATETIME,
	STATUS INT,
	FOREIGN KEY (SENDER) REFERENCES NICKS(NICK_ID) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (RECIPIENT) REFERENCES NICKS(NICK_ID) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (STATUS) REFERENCES NICKS(AUTH_STATUS_ID) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE BOTS (
	BOT_ID INTEGER PRIMARY KEY AUTOINCREMENT,
	NICKNAME VARCHAR(32) NOT NULL,
	PASSWORD VARCHAR(32) NOT NULL,
	USERNAME VARCHAR(32) NOT NULL,
	REALNAME VARCHAR(32) NOT NULL
);

CREATE TABLE ACC_LEVEL (
	ACC_LEVEL_ID INTEGER PRIMARY KEY AUTOINCREMENT,
	NAME VARCHAR(32)
);

CREATE TABLE OP_TYPE (
	OP_TYPE_ID INTEGER PRIMARY KEY AUTOINCREMENT,
	NAME VARCHAR(16)
);
CREATE TABLE CHANS
(
   CHAN_ID INTEGER PRIMARY KEY AUTOINCREMENT,
   NAME VARCHAR(33),
   PASSWORD VARCHAR(33),
   DESCRIPTION VARCHAR(256),
   TIME_REG BIGINT,
   AOP_ENABLED TINYINT,
   HOP_ENABLED TINYINT,
   SOP_ENABLED TINYINT,
   UOP_ENABLED TINYINT,
   VOP_ENABLED TINYINT,
   ADMIN_ENABLED TINYINT,
   OWNER_ENABLED TINYINT,
   BOT INT NULL,
   FOUNDER INT NOT NULL,
   SUCCESSOR INT NULL,
   MLOCK VARCHAR(33),
   TOPIC VARCHAR(1025),
   RESTRICTED TINYINT,
   KEEPTOPIC TINYINT,
   AUTOVOP TINYINT ,
   MEMOLEVEL INT NOT NULL,
   LEAVEOPS TINYINT,
   OPWATCH TINYINT,
   URL VARCHAR(64),
   TOPICLOCK INT,
   FOREIGN KEY (BOT) REFERENCES BOTS(BOT_ID) ON DELETE CASCADE ON UPDATE CASCADE,
   FOREIGN KEY (FOUNDER) REFERENCES NICKS(NICK_ID) ON DELETE CASCADE ON UPDATE CASCADE,
   FOREIGN KEY (SUCCESSOR) REFERENCES NICKS(NICK_ID) ON DELETE CASCADE ON UPDATE CASCADE,
   FOREIGN KEY (MEMOLEVEL) REFERENCES OP_TYPE(OP_TYPE_ID) ON DELETE CASCADE ON UPDATE CASCADE, 
   FOREIGN KEY (TOPICLOCK) REFERENCES OP_TYPE(OP_TYPE_ID) ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE OP_LIST (
	OP_LIST_ID INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
	TYPE INT NOT NULL,
	NICK INT NOT NULL,
	CHAN INT NOT NULL,
	ADDED_BY INT NOT NULL,
	ADDED_BY_ACC INT NOT NULL,
	ADDED_ON BIGINT,
	FOREIGN KEY (TYPE) REFERENCES OP_TYPE(OP_TYPE_ID) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (NICK) REFERENCES NICKS(NICK_ID) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (CHAN) REFERENCES CHANS(CHAN_ID) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY (ADDED_BY) REFERENCES NICKS(NICK_ID) ON DELETE CASCADE ON UPDATE CASCADE ,
	FOREIGN KEY (ADDED_BY_ACC) REFERENCES ACC_LEVEL(ACC_LEVEL_ID) ON DELETE CASCADE ON UPDATE CASCADE 
);

INSERT INTO BOTS (NICKNAME,PASSWORD,USERNAME,REALNAME) VALUES ("Chanbot","hoppus123","chanserv","Channel Bot");
INSERT INTO BOTS (NICKNAME,PASSWORD,USERNAME,REALNAME) VALUES ("Wulfbot","hoppus123","chanserv","Channel Bot");
INSERT INTO BOTS (NICKNAME,PASSWORD,USERNAME,REALNAME) VALUES ("X","hoppus123","chanserv","Channel Bot");
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Fish-Guts","hoppus123","fish-guts@reefmaster.ch","Fish-Guts",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 

(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("FG","hoppus123","fish-guts@reefmaster.ch","FG",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Jamc","hoppus123","jamc@reefmaster.ch","Jamc",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("ventura","hoppus123","ventura@reefmaster.ch","ventura",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("CgIMaN","hoppus123","cgiman@reefmaster.ch","CgiMaN",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("leota","hoppus123","leota@reefmaster.ch","leota",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Schwan","hoppus123","schwan@reefmaster.ch","schwan",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Delfin","hoppus123","delfin@reefmaster.ch","Delfin",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("V","hoppus123","vi@reefmaster.ch","V",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("pixel","hoppus123","pixel@reefmaster.ch","pixel",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("waterlily","hoppus123","waterlily@reefmaster.ch","waterlily",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("dungeon_lady","hoppus123","dragonia@reefmaster.ch","dl",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Angel","hoppus123","angel@reefmaster.ch","Angel",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("FischerZH","hoppus123","fisher@reefmaster.ch","Kenny Fischer",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Gargo","hoppus123","gargo@reefmaster.ch","Gargo",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("JiLe","hoppus123","juuls@reefmaster.ch","JuLchen",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Earthworm","hoppus123","ew@reefmaster.ch","Jonas",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Valentin","hoppus123","valentin@reefmaster.ch","Valentin",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Kane","hoppus123","dark_kane@reefmaster.ch","Kane",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("lemon_w","hoppus123","limone@reefmaster.ch","lämän",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Audrey","hoppus123","audrey@reefmaster.ch","Audrey",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("mk","hoppus123","mk@reefmaster.ch","Fish-Guts",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("ake","hoppus123","ake@reefmaster.ch","ake",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Adler","hoppus123","adler@reefmaster.ch","Adler",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("rockoli","hoppus123","rockoli@reefmaster.ch","rockoli",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Atlas","hoppus123","Atlas@reefmaster.ch","Atlas",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);
INSERT INTO NICKS 
	(NICKNAME,PASSWORD,MASK,REALNAME,LAST_SEEN,REGISTERED,HIDEMAIL,MEMOMAX,URL,EMAIL,MFORWARD_TO,MFORWARD,NOOP,NOMEMO,AUTH_CHAN,AUTH_NOTIFY,PROTECT,MLOCK,MNOTIFY)
	VALUES("Carol","hoppus123","carol@reefmaster.ch","Carol",1415474819,1415474819,1,10,"www.reefmaster.ch","fish-guts@reefmaster.ch",NULL,0,1,0,1,1,2,"ntr",0);


-- Acc level flagged (used in lists to see what access level the adding nick has
INSERT INTO ACC_LEVEL (NAME) VALUES("1");
INSERT INTO ACC_LEVEL (NAME) VALUES("2");
INSERT INTO ACC_LEVEL (NAME) VALUES("3");
INSERT INTO ACC_LEVEL (NAME) VALUES("4");
INSERT INTO ACC_LEVEL (NAME) VALUES("5");
INSERT INTO ACC_LEVEL (NAME) VALUES("6");
INSERT INTO ACC_LEVEL (NAME) VALUES("7");
INSERT INTO ACC_LEVEL (NAME) VALUES("8");
INSERT INTO ACC_LEVEL (NAME) VALUES("9");
INSERT INTO ACC_LEVEL (NAME) VALUES("ServiceRootAdmin");

INSERT INTO OP_TYPE (NAME) VALUES("Uop");
INSERT INTO OP_TYPE (NAME) VALUES("Vop");
INSERT INTO OP_TYPE (NAME) VALUES("Hop");
INSERT INTO OP_TYPE (NAME) VALUES("Aop");
INSERT INTO OP_TYPE (NAME) VALUES("Sop");
INSERT INTO OP_TYPE (NAME) VALUES("Admin");
INSERT INTO OP_TYPE (NAME) VALUES("Owner");
INSERT INTO OP_TYPE (NAME) VALUES("Successor");
INSERT INTO OP_TYPE (NAME) VALUES("Founder");


INSERT INTO CHANS
(NAME,PASSWORD,DESCRIPTION,TIME_REG,AOP_ENABLED,HOP_ENABLED,SOP_ENABLED,UOP_ENABLED,VOP_ENABLED,ADMIN_ENABLED,OWNER_ENABLED,BOT,FOUNDER,SUCCESSOR,
   MLOCK,TOPIC,RESTRICTED,KEEPTOPIC,AUTOVOP,MEMOLEVEL,LEAVEOPS,OPWATCH,URL,TOPICLOCK)
VALUES("#ircops","hoppus123","The IRC Operator Channel",1415474819,1,1,1,1,1,1,1,1,1,2,"ertn-k","Hallo",0,1,0,4,1,1,"www.ircops.ch",3);

INSERT INTO CHANS
(NAME,PASSWORD,DESCRIPTION,TIME_REG,AOP_ENABLED,HOP_ENABLED,SOP_ENABLED,UOP_ENABLED,VOP_ENABLED,ADMIN_ENABLED,OWNER_ENABLED,BOT,FOUNDER,SUCCESSOR,
   MLOCK,TOPIC,RESTRICTED,KEEPTOPIC,AUTOVOP,MEMOLEVEL,LEAVEOPS,OPWATCH,URL,TOPICLOCK)
VALUES("#cservice","hoppus123","Operator Service",1415474819,1,1,1,1,1,1,1,1,4,1,"ertn-k","Hallo",0,1,0,4,1,1,"www.ircops.ch",3);

INSERT INTO CHANS
(NAME,PASSWORD,DESCRIPTION,TIME_REG,AOP_ENABLED,HOP_ENABLED,SOP_ENABLED,UOP_ENABLED,VOP_ENABLED,ADMIN_ENABLED,OWNER_ENABLED,BOT,FOUNDER,SUCCESSOR,
   MLOCK,TOPIC,RESTRICTED,KEEPTOPIC,AUTOVOP,MEMOLEVEL,LEAVEOPS,OPWATCH,URL,TOPICLOCK)
VALUES("#schaffhausen","hoppus123","Schaffhausen",1415474819,1,1,1,1,1,1,1,1,2,3,"ertn-k","Hallo",0,1,0,4,1,1,"www.ircops.ch",3);

INSERT INTO CHANS
(NAME,PASSWORD,DESCRIPTION,TIME_REG,AOP_ENABLED,HOP_ENABLED,SOP_ENABLED,UOP_ENABLED,VOP_ENABLED,ADMIN_ENABLED,OWNER_ENABLED,BOT,FOUNDER,SUCCESSOR,
   MLOCK,TOPIC,RESTRICTED,KEEPTOPIC,AUTOVOP,MEMOLEVEL,LEAVEOPS,OPWATCH,URL,TOPICLOCK)
VALUES("#zuerich","hoppus123","Operator Service",1415474819,1,1,1,1,1,1,1,1,1,3,"ertn-k","Hallo",0,1,0,4,1,1,"www.ircops.ch",3);

INSERT INTO CHANS
(NAME,PASSWORD,DESCRIPTION,TIME_REG,AOP_ENABLED,HOP_ENABLED,SOP_ENABLED,UOP_ENABLED,VOP_ENABLED,ADMIN_ENABLED,OWNER_ENABLED,BOT,FOUNDER,SUCCESSOR,
   MLOCK,TOPIC,RESTRICTED,KEEPTOPIC,AUTOVOP,MEMOLEVEL,LEAVEOPS,OPWATCH,URL,TOPICLOCK)
VALUES("#linux","hoppus123","for Linux Fans",1415474819,1,1,1,1,1,1,1,1,1,NULL,"ertn-k","Hallo",0,1,0,4,1,1,"www.ircops.ch",3);

INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (5,2,1,1,1,1415474819);
INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (5,3,1,1,1,1415474819);
INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (4,2,2,1,1,1415474819);
INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (4,3,2,1,1,1415474819);
INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (4,4,1,1,1,1415474819);
INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (4,5,1,1,1,1415474819);
INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (3,6,1,1,1,1415474819);
INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (3,7,1,1,1,1415474819);
INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (3,8,1,1,1,1415474819);
INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (2,9,1,1,1,1415474819);
INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (2,10,1,1,1,1415474819);
INSERT INTO OP_LIST (TYPE,NICK,CHAN,ADDED_BY,ADDED_BY_ACC,ADDED_ON) VALUES (1,11,1,1,1,1415474819);


INSERT INTO NS_ACCESS(NICK_ID,MASK) VALUES (1,"fish-guts@*");
INSERT INTO NS_ACCESS(NICK_ID,MASK) VALUES (1,"FG@*");
INSERT INTO NS_ACCESS(NICK_ID,MASK) VALUES (1,"pennywise@*");
INSERT INTO NS_ACCESS(NICK_ID,MASK) VALUES (2,"FG@*");
INSERT INTO NS_ACCESS(NICK_ID,MASK) VALUES (3,"jamc@*");
INSERT INTO NS_ACCESS(NICK_ID,MASK) VALUES (3,"jamc2@*");
INSERT INTO NS_ACCESS(NICK_ID,MASK) VALUES (4,"test1@*");
INSERT INTO NS_ACCESS(NICK_ID,MASK) VALUES (5,"test2@*");
INSERT INTO NS_ACCESS(NICK_ID,MASK) VALUES (6,"test3@*");
INSERT INTO NS_ACCESS(NICK_ID,MASK) VALUES (7,"test4@*");

INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,2);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,3);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,4);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,5);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,6);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,7);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,8);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,9);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,10);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,11);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,12);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,13);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,14);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,15);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (1,16);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,1);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,3);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,4);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,5);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,6);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,7);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,8);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,9);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,10);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,11);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,12);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,13);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,14);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,22);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,24);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,26);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,49);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,34);
INSERT INTO NS_NOTIFY(NICK_ID,NOTIFICATION_NICK_ID) VALUES (2,39);

INSERT INTO AUTH_STATUS(NAME) VALUES("Unread");
INSERT INTO AUTH_STATUS(NAME) VALUES("Read");

INSERT INTO TARGET_TYPE(NAME) VALUES("Notify");
INSERT INTO TARGET_TYPE(NAME) VALUES("Uop");
INSERT INTO TARGET_TYPE(NAME) VALUES("Vop");
INSERT INTO TARGET_TYPE(NAME) VALUES("Hop");
INSERT INTO TARGET_TYPE(NAME) VALUES("Aop");
INSERT INTO TARGET_TYPE(NAME) VALUES("Sop");
INSERT INTO TARGET_TYPE(NAME) VALUES("Admin");
INSERT INTO TARGET_TYPE(NAME) VALUES("Owner");
INSERT INTO TARGET_TYPE(NAME) VALUES("Successor");
INSERT INTO TARGET_TYPE(NAME) VALUES("Founder");

INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(1,2,2,1,1415474819,1);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(1,2,2,3,1415474819,1);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(1,2,2,4,1415474819,1);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(1,2,2,5,1415474819,2);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(1,2,2,6,1415474819,1);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(1,2,2,7,1415474819,1);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(2,1,1,8,1415474819,1);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(2,2,1,9,1415474819,1);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(2,3,1,10,1415474819,2);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(3,4,1,11,1415474819,1);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(3,5,1,12,1415474819,1);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(3,5,1,13,1415474819,2);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(4,5,1,14,1415474819,1);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(4,5,1,15,1415474819,1);
INSERT INTO NS_AUTH(TARGET_TYPE,TARGET,SENDER,RECIPIENT,TIME,STATUS) VALUES(4,5,1,16,1415474819,1);


SELECT NS_AUTH.TARGET_TYPE, CASE WHEN NS_AUTH.TARGET_TYPE = 1 THEN NOTIFY.NICKNAME ELSE CHANS.NAME END AS TARGET_NAME,SENDER.NICKNAME, RECIPIENT.NICKNAME,TIME,STATUS
FROM NS_AUTH
INNER JOIN NICKS SENDER ON NS_AUTH.SENDER = SENDER.NICK_ID
INNER JOIN NICKS RECIPIENT ON NS_AUTH.RECIPIENT = RECIPIENT.NICK_ID
INNER JOIN NICKS NOTIFY ON NS_AUTH.TARGET = NOTIFY.NICK_ID
INNER JOIN CHANS ON NS_AUTH.TARGET = CHANS.CHAN_ID;


SELECT MYNICK.NICKNAME,NOTIFY.NICKNAME FROM NS_NOTIFY
INNER JOIN NICKS MYNICK ON NS_NOTIFY.NICK_ID = MYNICK.NICK_ID
INNER JOIN NICKS NOTIFY ON NOTIFICATION_NICK_ID.NICK_ID = NOTIFY.NICK_ID;
